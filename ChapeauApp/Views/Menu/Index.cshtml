@model ChapeauApp.Models.ViewModels.MenuViewModel
@{
	ViewData["Title"] = "Menu";
}
<form action="/Menu/Index" method="post" id="menuForm">
	<div class="form-group py-2">
		<label for="cars">Choose a card:</label>
		<select name="card" id="card" form="menuForm">
			<option value="All">Alles</option>
			<option value="Dranken">Dranken</option>
			<option value="Lunch">Lunch</option>
			<option value="Diner">Diner</option>
		</select>
		<label for="cars">Choose a category:</label>
		<select name="category" id="category" form="menuForm">
			<option value="All">Alles</option>
			<option value="Voorgerecht">Voorgerecht</option>
			<option value="Tussengerecht">Tussengerecht</option>
			<option value="Hoofdgerecht">Hoofdgerecht</option>
			<option value="Nagerecht">Nagerecht</option>
			<option value="Bieren van de tap">Bieren van de tap</option>
			<option value="Wijnen">Wijnen</option>
			<option value="Koffie / Thee">Koffie / Thee</option>
			<option value="Gedistilleerde drank">Gedistilleerde drank</option>
			<option value="All">Alles</option>
			<option value="All">Alles</option>
			<option value="All">Alles</option>
			
			<!--option value="All">All</option>
			<option value="Starters">Starters</option>
			<option value="Mains">Mains</option>
			<option-- value="Desserts">Desserts</option-->
		</select>
	</div>
	<button type="submit" class="btn btn-primary">Filter</button>
</form>
@{
	if (Model != null)
	{
		<h1>This is the menu!</h1>
		<h2>Selected card: @Model.Menu.MenuItemCard</h2>
		<h2>Selected category: @Model.Menu.Category</h2>
		<table class="table table-hover">
			<thead class="table-dark">
				<tr>
					<th>Dish</th>
					<th>Description</th>
					<th>Price</th>
					<th>Commentary</th>
				</tr>
			</thead>
			<tbody class="bg-opacity-10 bg-black">
				@{
					foreach(MenuItem menuItem in Model.Menu.MenuItems)
					if (menuItem.Stock <= 10 && menuItem.Stock > 0)
					{
						<tr class="alert-warning">
							<td>@menuItem.ItemName</td>
							<td>@menuItem.Description</td>
							<td>@menuItem.ItemPrice</td>
							<td>@menuItem.ItemName is almost out of stock! (@menuItem.Stock left)</td>
						</tr>
					}
					else if (menuItem.Stock <= 0)
					{
						<tr class="alert-danger">
							<td>@menuItem.ItemName</td>
							<td>@menuItem.Description</td>
							<td>@menuItem.ItemPrice</td>
							<td>@menuItem.ItemName is out of stock!</td>
						</tr>
					}
					else
					{
						<tr>
							<td>@menuItem.ItemName</td>
							<td>@menuItem.Description</td>
							<td>@menuItem.ItemPrice</td>
							<td>Plenty of @menuItem.ItemName left!</td>
						</tr>
					}
				}
			</tbody>
		</table>
	}
	else
	{
		<h1 class="alert-danger">No menu was found!</h1>
	}
}
