@using ChapeauApp.Enums;
@using ChapeauApp.Models.ViewModels;
@model TableViewModel;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    List<TableStatuses> tableStatuses = new List<TableStatuses>();
    tableStatuses.Add(TableStatuses.Free);
    tableStatuses.Add(TableStatuses.Occupied);
    tableStatuses.Add(TableStatuses.Ordered);
    tableStatuses.Add(TableStatuses.Reserved);
    tableStatuses.Add(TableStatuses.OrderReadyToBeServed);
    tableStatuses.Add(TableStatuses.vrij);
    tableStatuses.Add(TableStatuses.bezet);
    tableStatuses.Add(TableStatuses.besteld);
    tableStatuses.Add(TableStatuses.gereserveerd);
    tableStatuses.Add(TableStatuses.bestellingKlaar);
}
<form action ="/Table/Update" method="post">
    <h1 class="textOnBackground"> status of table @Model.TableNumber</h1>
    <label>status</label>
    <select id="NewStatus" name="NewStatus">        
        @{
            foreach(TableStatuses tableStatus in tableStatuses)
            {
                if (tableStatus == Model.TableStatus)
                {
                    <option value="@tableStatus"selected>@tableStatus</option>
                }
                else
                {
                    <option value="@tableStatus">@tableStatus</option>
                }
            }
        }       
    </select>
    <div class="form-group">
        <input hidden type="text" id="OldStatus" name="OldStaus" class="form-control" required value="@ViewData["OldStatus"]" />
    </div>
    <div class="form-group">
        <input hidden type="text" id="TableNumber" name="TableNumber" class="form-control" required value="@Model.TableNumber" />
    </div>
    <button type="submit" class="btn btn-primary">update status</button>
</form>
